(this.webpackJsonpyearlist=this.webpackJsonpyearlist||[]).push([[0],{20:function(e,a,t){e.exports=t(43)},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),o=t(19),s=t.n(o),r=(t(25),t(8)),c=t(3),u=t(4),m=t(6),i=t(5),d=t(7);var h=function(e){return n.a.createElement("header",null,n.a.createElement("h1",null,"YEARLY GOAL SETTER "),n.a.createElement("h1",null,"("),n.a.createElement("h1",{className:"yrglset"},"YRGLSET"),n.a.createElement("h1",null,")"))};var p=function(e){return n.a.createElement("div",{className:"year"},n.a.createElement("h2",null,e.year))},g=t(9);var G=function(e){return n.a.createElement("li",{className:"goalsTitle",key:"goalsTitle"},n.a.createElement("p",{className:"thingsIWannaDo"},"Things I wanna do"),n.a.createElement("p",{className:"butWhy"},"But Why?"),n.a.createElement("button",{className:"addGoalButton",onClick:e.toggleNewGoal},"add a goal"))};var E=function(e){return n.a.createElement(n.a.Fragment,null,e.addGoal&&n.a.createElement("form",{className:"newGoalContainer",onSubmit:e.handleNewGoalSubmit},n.a.createElement("label",null,"new goal: "),n.a.createElement("input",{type:"text",value:e.newGoalValue,onChange:e.handleGoalValueChange,className:"newGoalText",placeholder:"what is it?"}),n.a.createElement("input",{type:"text",value:e.newGoalReasonValue,onChange:e.handleGoalReasonsValueChange,className:"newGoalReasonText",placeholder:"any particular reason(s)?..."}),n.a.createElement("input",{className:"submit",type:"submit",value:"Submit"})))};var f=function(e){return n.a.createElement(n.a.Fragment,null,e.apiGoals.map((function(a,t){return!1===a.completed&&!1===a.deleted?n.a.createElement("li",{key:"goal ".concat(t),className:t%2===0?"goalListItem2":"goalListItem1"},n.a.createElement("p",{className:"goal"},a.goal),n.a.createElement("p",{className:"reason"},a.reason),n.a.createElement("button",{onClick:function(){e.removeItem(a,t)},className:"btn"},"remove"),n.a.createElement("button",{className:"didItButton",onClick:function(){e.toggle(a)}},"I DID IT!!!")):null})))};var v=function(e){return n.a.createElement(n.a.Fragment,null,e.on&&n.a.createElement("form",{className:"thoughtsContainer",onSubmit:e.handleSubmitUpdateGoals},n.a.createElement("label",null,"Thoughts?"),n.a.createElement("input",{type:"text",value:e.value,onChange:e.handleChange,className:"thoughts",placeholder:"How did it go?"}),n.a.createElement("input",{className:"submit",type:"submit",value:"Submit"})))},y=t(2),N=t.n(y),b=function(e,a){return console.log("in addNewGoal",e),N.a.post("https://yrglset.herokuapp.com/api/goals/".concat(a),e).then((function(e){return e.data.newGoal}))},w=function(e){return console.log("in api rmeove",e),N.a.delete("https://yrglset.herokuapp.com/api/goals/".concat(e.year),{data:{goal_id:e.goal_id}}).then((function(e){return e}))},C=function(e,a,t){return N.a.patch("https://yrglset.herokuapp.com/api/goals/".concat(t),{goal_id:e.goal_id,thoughts:a}).then((function(e){return e.data.completedGoals}))},S=function(e){function a(){var e,t;Object(c.a)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(n)))).state={completedGoal:"",addGoal:!1,newGoalValue:"",newGoalReasonValue:"",value:"",on:!1},t.handleSubmitUpdateGoals=function(e){e.preventDefault(),C(t.state.completedGoal,t.state.value,t.props.year).then((function(e){var a=Object(g.a)(e,1)[0];return t.props.updateGoalsCompletedGoal(a)})).then(t.setState({on:!1,value:""}))},t.toggle=function(e){t.setState({on:!t.state.on,completedGoal:e,addGoal:!1})},t.removeItem=function(e){w(e).then(t.props.updateGoalsDeletedGoal(e))},t.handleNewGoalSubmit=function(e){var a={year:t.props.year,goal:t.state.newGoalValue,reason:t.state.newGoalReasonValue};b(a,t.props.year).then((function(e){var a=Object(g.a)(e,1)[0];return t.props.updateGoalsNewGoal(a)})).then(t.setState({addGoal:!1,newGoalValue:"",newGoalReasonValue:""}))},t.handleGoalValueChange=function(e){t.setState({newGoalValue:e.target.value})},t.handleGoalReasonsValueChange=function(e){t.setState({newGoalReasonValue:e.target.value})},t.handleChange=function(e){t.setState({value:e.target.value})},t.toggleNewGoal=function(){t.setState({addGoal:!t.state.addGoal,on:!1})},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"goalsList"},n.a.createElement(G,{toggleNewGoal:this.toggleNewGoal}),n.a.createElement(f,{apiGoals:this.props.apiGoals,removeItem:this.removeItem,toggle:this.toggle})),n.a.createElement(E,{addGoal:this.state.addGoal,newGoalValue:this.state.newGoalValue,handleNewGoalSubmit:this.handleNewGoalSubmit,handleGoalValueChange:this.handleGoalValueChange,newGoalReasonValue:this.state.newGoalReasonValue,handleGoalReasonsValueChange:this.handleGoalReasonsValueChange}),n.a.createElement(v,{completedGoal:this.state.completedGoal,on:this.state.on,handleSubmitUpdateGoals:this.handleSubmitUpdateGoals,value:this.state.value,handleChange:this.handleChange}))}}]),a}(l.Component);var V=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"completedGoalList"},n.a.createElement("li",{className:"completedGoalsTitles"},n.a.createElement("p",{className:"completedWhat"},"What"),n.a.createElement("p",{className:"completedWhy"},"Why "),n.a.createElement("p",{className:"completedThoughts"},"Thoughts once you did it")),e.apiGoals.map((function(a,t){return!0===a.completed&&!1===a.deleted?n.a.createElement("li",{className:"completedGoalItem",key:a.goal},n.a.createElement("p",{className:"completedWhat"},a.goal),n.a.createElement("p",{className:"completedWhy"},a.reason),n.a.createElement("p",{className:"completedThoughts"},a.thoughts),n.a.createElement("button",{onClick:function(){return e.removeCompletedItem(a)},className:"btnComplete"},n.a.createElement("i",{className:"fa fa-close"}))):null}))))};var I=function(e){return n.a.createElement("div",null,n.a.createElement("h3",{className:"year"},e.year,": complete"))},k=function(e){function a(){var e,t;Object(c.a)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(n)))).state={year:"",value:"",on:!1,index:"",goals:null},t.removeCompletedItem=function(e){w(e).then(t.updateGoalsDeletedGoal(e))},t.changeYear=function(e){t.setState((function(a){return{year:a.year+=e}}))},t.updateGoalsNewGoal=function(e){t.setState((function(a){return{goals:[].concat(Object(r.a)(a.goals),[e])}}))},t.updateGoalsDeletedGoal=function(e){t.setState((function(a){return{goals:Object(r.a)(a.goals).filter((function(a){return a.goal_id!==e.goal_id}))}}))},t.updateGoalsCompletedGoal=function(e){console.log(e,"UPDATE COMPLETD"),t.setState((function(a){return{goals:a.goals.map((function(a){return e.goal_id===a.goal_id?e:a})),value:"",on:!1}}))},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return null===this.state.goals?n.a.createElement("p",null,"loading"):n.a.createElement("div",{className:"page"},n.a.createElement(h,null),n.a.createElement(p,{year:this.state.year}),n.a.createElement(S,{updateGoalsNewGoal:this.updateGoalsNewGoal,updateGoalsDeletedGoal:this.updateGoalsDeletedGoal,updateGoalsCompletedGoal:this.updateGoalsCompletedGoal,year:this.state.year,apiGoals:this.state.goals,handleSubmitUpdateCompleted:this.handleSubmitUpdateCompleted}),n.a.createElement(I,{year:this.state.year}),n.a.createElement(V,{apiGoals:this.state.goals,removeCompletedItem:this.removeCompletedItem}))}},{key:"componentDidMount",value:function(){var e=this,a=(new Date).getFullYear();(function(e){return console.log("in fetch",e),N.a.get("https://yrglset.herokuapp.com/api/goals/"+e).then((function(e){return e.data.goals}))})(a).then((function(t){e.setState({goals:t,year:a})}))}}]),a}(l.Component);s.a.render(n.a.createElement(k,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a2e43dae.chunk.js.map